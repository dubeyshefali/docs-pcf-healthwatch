---
description: "[{{ len .Alerts.Firing  }}{{ if gt (len .Alerts.Firing) 1 }} ALERTS {{ else }} ALERT {{ end }}{{ .Status | toUpper }}] {{ .CommonLabels.alertname }}"
details:
  firing: |-
    {{ with index .Alerts 0 }}
    Summary: {{ .Annotations.summary }}

    Description:
    {{ .Annotations.description }}{{ end }}
    {{ if gt (len .Alerts.Firing) 1 -}}
    Common labels across firing alerts:
    {{- else -}}
    Labels:
    {{- end }}
    {{ range .CommonLabels.SortedPairs }}  - {{ .Name }}: {{ .Value }}
    {{ end }}
links:
  - text: "How to create a BOSH tunnel to connect to Alertmanager"
    href: "https://docs.vmware.com/en/Healthwatch-for-VMware-Tanzu/2.2/healthwatch/troubleshooting.html#viewing-the-alertmanager-ui"
  - text: "View a Grafana graph of the expression that triggered this alert"
    href: '{{ with index .Alerts 0 }}{{ .Annotations.grafanaUrlPrefix }}"{{(.StartsAt.Add -1800000000000).Unix}}000","{{(.StartsAt.Add 1800000000000).Unix}}000"{{ .Annotations.grafanaUrlSuffix }}{{end}}'
